{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1234/Desktop/web/v0-nexa-gpt-development/contexts/theme-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { createContext, useContext, useEffect, useState, type ReactNode } from \"react\"\r\n\r\ntype Theme = \"light\" | \"dark\"\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme\r\n  toggleTheme: () => void\r\n  setTheme: (theme: Theme) => void\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined)\r\n\r\nexport function ThemeProvider({ children }: { children: ReactNode }) {\r\n  const [theme, setThemeState] = useState<Theme>(\"light\")\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n    const savedTheme = localStorage.getItem(\"nexagpt-theme\") as Theme\r\n    if (savedTheme) {\r\n      setThemeState(savedTheme)\r\n      document.documentElement.classList.toggle(\"dark\", savedTheme === \"dark\")\r\n    } else {\r\n      // Check system preference\r\n      const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches\r\n      const systemTheme = prefersDark ? \"dark\" : \"light\"\r\n      setThemeState(systemTheme)\r\n      document.documentElement.classList.toggle(\"dark\", systemTheme === \"dark\")\r\n    }\r\n  }, [])\r\n\r\n  const setTheme = (newTheme: Theme) => {\r\n    setThemeState(newTheme)\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"nexagpt-theme\", newTheme)\r\n      document.documentElement.classList.toggle(\"dark\", newTheme === \"dark\")\r\n    }\r\n  }\r\n\r\n  const toggleTheme = () => {\r\n    setTheme(theme === \"light\" ? \"dark\" : \"light\")\r\n  }\r\n\r\n  return <ThemeContext.Provider value={{ theme, toggleTheme, setTheme }}>{children}</ThemeContext.Provider>\r\n}\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeContext)\r\n  if (!context) {\r\n    if (typeof window === \"undefined\") {\r\n      return {\r\n        theme: \"light\" as Theme,\r\n        toggleTheme: () => {},\r\n        setTheme: () => {},\r\n      }\r\n    }\r\n    throw new Error(\"useTheme must be used within a ThemeProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAYA,MAAM,6BAAe,IAAA,sNAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAA2B;IACjE,MAAM,CAAC,OAAO,cAAc,GAAG,IAAA,iNAAQ,EAAQ;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,YAAY;YACd,cAAc;YACd,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,eAAe;QACnE,OAAO;YACL,0BAA0B;YAC1B,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;YAC7E,MAAM,cAAc,cAAc,SAAS;YAC3C,cAAc;YACd,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,gBAAgB;QACpE;IACF,GAAG,EAAE;IAEL,MAAM,WAAW,CAAC;QAChB,cAAc;QACd;;IAIF;IAEA,MAAM,cAAc;QAClB,SAAS,UAAU,UAAU,SAAS;IACxC;IAEA,qBAAO,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAa;QAAS;kBAAI;;;;;;AAC1E;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,wCAAmC;YACjC,OAAO;gBACL,OAAO;gBACP,aAAa,KAAO;gBACpB,UAAU,KAAO;YACnB;QACF;;;IAEF;IACA,OAAO;AACT"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1234/Desktop/web/v0-nexa-gpt-development/lib/supabase/client.ts"],"sourcesContent":["// lib/supabase/client.ts\r\nimport { createBrowserClient, createServerClient } from \"@supabase/ssr\";\r\nimport { cookies } from \"next/headers\";\r\nimport type { NextRequest } from \"next/server\";\r\n\r\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst SUPABASE_ANON_KEY = process.env.SUPABASE_ANON_KEY!;\r\n\r\nif (!SUPABASE_URL || !SUPABASE_ANON_KEY) {\r\n  throw new Error(\"Supabase URL yoki ANON key .env da mavjud emas!\");\r\n}\r\n\r\nlet browserClient: ReturnType<typeof createBrowserClient> | null = null;\r\n\r\n// Browser client\r\nexport function getSupabaseBrowserClient() {\r\n  if (!browserClient) {\r\n    browserClient = createBrowserClient(SUPABASE_URL, SUPABASE_ANON_KEY);\r\n  }\r\n  return browserClient;\r\n}\r\n\r\n// Server client (middleware / server components)\r\n// Nomini aniq qilamiz va ESM ga mos qilamiz\r\nexport async function createSupabaseServerClient(req?: NextRequest) {\r\n  const cookieStore = req ? req.cookies : await cookies();\r\n\r\n  return createServerClient(SUPABASE_URL, SUPABASE_ANON_KEY, {\r\n    cookies: {\r\n      getAll: () => cookieStore.getAll(),\r\n      setAll: (cookiesToSet) => {\r\n        cookiesToSet.forEach(({ name, value, options }) =>\r\n          cookieStore.set(name, value, options)\r\n        );\r\n      },\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;;AACzB;AAAA;AAAA;AACA;;;AAGA,MAAM;AACN,MAAM,oBAAoB,QAAQ,GAAG,CAAC,iBAAiB;AAEvD,IAAI,CAAC,gBAAgB,CAAC,mBAAmB;IACvC,MAAM,IAAI,MAAM;AAClB;AAEA,IAAI,gBAA+D;AAG5D,SAAS;IACd,IAAI,CAAC,eAAe;QAClB,gBAAgB,IAAA,iMAAmB,EAAC,cAAc;IACpD;IACA,OAAO;AACT;AAIO,eAAe,2BAA2B,GAAiB;IAChE,MAAM,cAAc,MAAM,IAAI,OAAO,GAAG,MAAM,IAAA,0IAAO;IAErD,OAAO,IAAA,+LAAkB,EAAC,cAAc,mBAAmB;QACzD,SAAS;YACP,QAAQ,IAAM,YAAY,MAAM;YAChC,QAAQ,CAAC;gBACP,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;YAEjC;QACF;IACF;AACF"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1234/Desktop/web/v0-nexa-gpt-development/contexts/auth-context.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  createContext,\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n  type ReactNode,\r\n} from \"react\";\r\nimport { getSupabaseBrowserClient } from \"@/lib/supabase/client\";\r\nimport type { User } from \"@supabase/supabase-js\";\r\nimport type { Profile, UserSettings } from \"@/lib/types\";\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  profile: Profile | null;\r\n  settings: UserSettings | null;\r\n  isLoading: boolean;\r\n  signIn: (email: string, password: string) => Promise<{ error: string | null }>;\r\n  signUp: (email: string, password: string, fullName: string) => Promise<{ error: string | null }>;\r\n  signOut: () => Promise<void>;\r\n  updateProfile: (data: Partial<Profile>) => Promise<void>;\r\n  updateSettings: (data: Partial<UserSettings>) => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [profile, setProfile] = useState<Profile | null>(null);\r\n  const [settings, setSettings] = useState<UserSettings | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const supabase = getSupabaseBrowserClient();\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      setUser(user);\r\n\r\n      if (user) {\r\n        const { data: profileData } = await supabase.from(\"profiles\").select(\"*\").eq(\"id\", user.id).single();\r\n        setProfile(profileData);\r\n\r\n        const { data: settingsData } = await supabase.from(\"user_settings\").select(\"*\").eq(\"user_id\", user.id).single();\r\n        setSettings(settingsData);\r\n      }\r\n\r\n      setIsLoading(false);\r\n    };\r\n\r\n    getUser();\r\n\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setUser(session?.user ?? null);\r\n\r\n      if (session?.user) {\r\n        supabase.from(\"profiles\").select(\"*\").eq(\"id\", session.user.id).single().then(({ data }) => setProfile(data));\r\n        supabase.from(\"user_settings\").select(\"*\").eq(\"user_id\", session.user.id).single().then(({ data }) => setSettings(data));\r\n      } else {\r\n        setProfile(null);\r\n        setSettings(null);\r\n      }\r\n    });\r\n\r\n    return () => subscription.unsubscribe();\r\n  }, [supabase]);\r\n\r\n  const signIn = async (email: string, password: string) => {\r\n    const { error } = await supabase.auth.signInWithPassword({ email, password });\r\n    return { error: error?.message || null };\r\n  };\r\n\r\n  const signUp = async (email: string, password: string, fullName: string) => {\r\n    const { error } = await supabase.auth.signUp({\r\n      email,\r\n      password,\r\n      options: {\r\n        data: { full_name: fullName },\r\n        emailRedirectTo: process.env.NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL || window.location.origin,\r\n      },\r\n    });\r\n    return { error: error?.message || null };\r\n  };\r\n\r\n  const signOut = async () => {\r\n    await supabase.auth.signOut();\r\n    setUser(null);\r\n    setProfile(null);\r\n    setSettings(null);\r\n  };\r\n\r\n  const updateProfile = async (data: Partial<Profile>) => {\r\n    if (!user) return;\r\n    const { data: updated } = await supabase.from(\"profiles\").update(data).eq(\"id\", user.id).select().single();\r\n    if (updated) setProfile(updated);\r\n  };\r\n\r\n  const updateSettings = async (data: Partial<UserSettings>) => {\r\n    if (!user) return;\r\n    const { data: updated } = await supabase.from(\"user_settings\").update(data).eq(\"user_id\", user.id).select().single();\r\n    if (updated) setSettings(updated);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, profile, settings, isLoading, signIn, signUp, signOut, updateProfile, updateSettings }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (!context) throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  return context;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1234/Desktop/web/v0-nexa-gpt-development/lib/i18n.ts"],"sourcesContent":["export const translations = {\r\n  uz: {\r\n    // Common\r\n    newChat: \"Yangi suhbat\",\r\n    search: \"Qidirish\",\r\n    settings: \"Sozlamalar\",\r\n    account: \"Mening hisobim\",\r\n    logout: \"Chiqish\",\r\n    darkMode: \"Qorong'i rejim\",\r\n    lightMode: \"Yorug' rejim\",\r\n    recent: \"So'nggi suhbatlar\",\r\n    moreModules: \"Ko'proq modullar\",\r\n\r\n    // Auth\r\n    login: \"Kirish\",\r\n    signup: \"Ro'yxatdan o'tish\",\r\n    email: \"Email\",\r\n    password: \"Parol\",\r\n    fullName: \"To'liq ism\",\r\n\r\n    // Chat\r\n    typeMessage: \"Xabar yozing...\",\r\n    sending: \"Yuborilmoqda...\",\r\n    thinking: \"O'ylayapman...\",\r\n\r\n    // Actions\r\n    rename: \"Nomini o'zgartirish\",\r\n    delete: \"O'chirish\",\r\n    clearAll: \"Hammasini tozalash\",\r\n    cancel: \"Bekor qilish\",\r\n    save: \"Saqlash\",\r\n    confirm: \"Tasdiqlash\",\r\n\r\n    // Warnings\r\n    deleteWarning: \"Bu suhbatni o'chirishni xohlaysizmi?\",\r\n    clearAllWarning: \"Barcha suhbatlarni o'chirishni xohlaysizmi? Bu amalni qaytarib bo'lmaydi.\",\r\n\r\n    // Modules\r\n    nexagpt: \"NexaGPT\",\r\n    agroAi: \"AgroAi\",\r\n    coderAi: \"CoderAi\",\r\n    weatherAi: \"WeatherAi\",\r\n    healthAi: \"HealthAi\",\r\n\r\n    // Welcome\r\n    examples: \"Misollar\",\r\n    capabilities: \"Imkoniyatlar\",\r\n    limitations: \"Cheklovlar\",\r\n  },\r\n  en: {\r\n    // Common\r\n    newChat: \"New chat\",\r\n    search: \"Search\",\r\n    settings: \"Settings\",\r\n    account: \"My account\",\r\n    logout: \"Log out\",\r\n    darkMode: \"Dark mode\",\r\n    lightMode: \"Light mode\",\r\n    recent: \"Recent\",\r\n    moreModules: \"More modules\",\r\n\r\n    // Auth\r\n    login: \"Login\",\r\n    signup: \"Sign up\",\r\n    email: \"Email\",\r\n    password: \"Password\",\r\n    fullName: \"Full name\",\r\n\r\n    // Chat\r\n    typeMessage: \"Type a message...\",\r\n    sending: \"Sending...\",\r\n    thinking: \"Thinking...\",\r\n\r\n    // Actions\r\n    rename: \"Rename\",\r\n    delete: \"Delete\",\r\n    clearAll: \"Clear all\",\r\n    cancel: \"Cancel\",\r\n    save: \"Save\",\r\n    confirm: \"Confirm\",\r\n\r\n    // Warnings\r\n    deleteWarning: \"Are you sure you want to delete this conversation?\",\r\n    clearAllWarning: \"Are you sure you want to clear all conversations? This action cannot be undone.\",\r\n\r\n    // Modules\r\n    nexagpt: \"NexaGPT\",\r\n    agroAi: \"AgroAi\",\r\n    coderAi: \"CoderAi\",\r\n    weatherAi: \"WeatherAi\",\r\n    healthAi: \"HealthAi\",\r\n\r\n    // Welcome\r\n    examples: \"Examples\",\r\n    capabilities: \"Capabilities\",\r\n    limitations: \"Limitations\",\r\n  },\r\n}\r\n\r\nexport type Language = keyof typeof translations\r\nexport type TranslationKey = keyof typeof translations.uz\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,eAAe;IAC1B,IAAI;QACF,SAAS;QACT,SAAS;QACT,QAAQ;QACR,UAAU;QACV,SAAS;QACT,QAAQ;QACR,UAAU;QACV,WAAW;QACX,QAAQ;QACR,aAAa;QAEb,OAAO;QACP,OAAO;QACP,QAAQ;QACR,OAAO;QACP,UAAU;QACV,UAAU;QAEV,OAAO;QACP,aAAa;QACb,SAAS;QACT,UAAU;QAEV,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,QAAQ;QACR,MAAM;QACN,SAAS;QAET,WAAW;QACX,eAAe;QACf,iBAAiB;QAEjB,UAAU;QACV,SAAS;QACT,QAAQ;QACR,SAAS;QACT,WAAW;QACX,UAAU;QAEV,UAAU;QACV,UAAU;QACV,cAAc;QACd,aAAa;IACf;IACA,IAAI;QACF,SAAS;QACT,SAAS;QACT,QAAQ;QACR,UAAU;QACV,SAAS;QACT,QAAQ;QACR,UAAU;QACV,WAAW;QACX,QAAQ;QACR,aAAa;QAEb,OAAO;QACP,OAAO;QACP,QAAQ;QACR,OAAO;QACP,UAAU;QACV,UAAU;QAEV,OAAO;QACP,aAAa;QACb,SAAS;QACT,UAAU;QAEV,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,QAAQ;QACR,MAAM;QACN,SAAS;QAET,WAAW;QACX,eAAe;QACf,iBAAiB;QAEjB,UAAU;QACV,SAAS;QACT,QAAQ;QACR,SAAS;QACT,WAAW;QACX,UAAU;QAEV,UAAU;QACV,UAAU;QACV,cAAc;QACd,aAAa;IACf;AACF"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/1234/Desktop/web/v0-nexa-gpt-development/contexts/language-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\r\nimport { translations, type Language, type TranslationKey } from \"@/lib/i18n\"\r\nimport { useAuth } from \"./auth-context\"\r\nimport { getSupabaseBrowserClient } from \"@/lib/supabase/client\"\r\n\r\ninterface LanguageContextType {\r\n  language: Language\r\n  setLanguage: (lang: Language) => void\r\n  t: (key: TranslationKey) => string\r\n}\r\n\r\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined)\r\n\r\nexport function LanguageProvider({ children }: { children: ReactNode }) {\r\n  const [language, setLanguageState] = useState<Language>(\"uz\")\r\n  const { user } = useAuth()\r\n  const supabase = getSupabaseBrowserClient()\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const loadLanguage = async () => {\r\n        const { data } = await supabase.from(\"profiles\").select(\"language\").eq(\"id\", user.id).single()\r\n        if (data?.language) {\r\n          setLanguageState(data.language as Language)\r\n        }\r\n      }\r\n      loadLanguage()\r\n    }\r\n  }, [user, supabase])\r\n\r\n  const setLanguage = async (lang: Language) => {\r\n    setLanguageState(lang)\r\n    if (user) {\r\n      await supabase.from(\"profiles\").update({ language: lang }).eq(\"id\", user.id)\r\n    }\r\n  }\r\n\r\n  const t = (key: TranslationKey): string => {\r\n    return translations[language][key] || translations.uz[key] || key\r\n  }\r\n\r\n  return <LanguageContext.Provider value={{ language, setLanguage, t }}>{children}</LanguageContext.Provider>\r\n}\r\n\r\nexport function useLanguage() {\r\n  const context = useContext(LanguageContext)\r\n  // Return default values during SSR instead of throwing error\r\n  if (!context) {\r\n    return {\r\n      language: \"uz\" as Language,\r\n      setLanguage: () => {},\r\n      t: (key: TranslationKey) => translations.uz[key] || key,\r\n    }\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAaA,MAAM,gCAAkB,IAAA,sNAAa,EAAkC;AAEhE,SAAS,iBAAiB,EAAE,QAAQ,EAA2B;IACpE,MAAM,CAAC,UAAU,iBAAiB,GAAG,IAAA,iNAAQ,EAAW;IACxD,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,uIAAO;IACxB,MAAM,WAAW,IAAA,qJAAwB;IAEzC,IAAA,kNAAS,EAAC;QACR,IAAI,MAAM;YACR,MAAM,eAAe;gBACnB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC,YAAY,EAAE,CAAC,MAAM,KAAK,EAAE,EAAE,MAAM;gBAC5F,IAAI,MAAM,UAAU;oBAClB,iBAAiB,KAAK,QAAQ;gBAChC;YACF;YACA;QACF;IACF,GAAG;QAAC;QAAM;KAAS;IAEnB,MAAM,cAAc,OAAO;QACzB,iBAAiB;QACjB,IAAI,MAAM;YACR,MAAM,SAAS,IAAI,CAAC,YAAY,MAAM,CAAC;gBAAE,UAAU;YAAK,GAAG,EAAE,CAAC,MAAM,KAAK,EAAE;QAC7E;IACF;IAEA,MAAM,IAAI,CAAC;QACT,OAAO,2HAAY,CAAC,SAAS,CAAC,IAAI,IAAI,2HAAY,CAAC,EAAE,CAAC,IAAI,IAAI;IAChE;IAEA,qBAAO,8OAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;YAAa;QAAE;kBAAI;;;;;;AACzE;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,6DAA6D;IAC7D,IAAI,CAAC,SAAS;QACZ,OAAO;YACL,UAAU;YACV,aAAa,KAAO;YACpB,GAAG,CAAC,MAAwB,2HAAY,CAAC,EAAE,CAAC,IAAI,IAAI;QACtD;IACF;IACA,OAAO;AACT"}}]
}